"use strict";function showLegend(){$("#top-right-legend").addClass("shown"),$(".show-legend").css("display","none"),$(".hide-legend").css("display","inline-block")}function hideLegend(){$("#top-right-legend").removeClass("shown"),$(".hide-legend").css("display","none"),$(".show-legend").css("display","inline-block")}function createChart(e,n){$("#bottom-left-view").show(),$(".chart-container").show(),$.get("http://localhost:3000/exq?qs="+e,function(e){var t=e,o=new dataSrc(n,t),i=new fChart(n,o,"myChart");i.startup()})}function fChart(e,n,t){var o=arguments.length<=3||void 0===arguments[3]?"column2d":arguments[3];this.show=function(e){FusionCharts.ready(function(){var o={data:n.data,events:{chartClick:function(e,n){console.log(e),console.log(n)},dataLabelClick:function(e,n){console.log(e),console.log(n)}}};o.chart=n[e];var i=new FusionCharts({type:e,renderAt:t,width:"500",height:"300",dataFormat:"json",dataSource:o});i.render()})},this.startup=function(){var e=this;this.show(o);var n=$("select[name=chartType]");n.off("change"),n.val(o),n.change(function(){e.show(n.val())})}}function dataSrc(e,n){this.column2d={caption:e,yAxisName:"数量",theme:"fint"},this.pie2d={caption:e,showBorder:"0",use3DLighting:"0",enableSmartLabels:"0",startingAngle:"310",showLabels:"0",showPercentValues:"1",showLegend:"1",centerLabelBold:"1",showTooltip:"0",decimals:"0",useDataPlotColorForLabels:"1",theme:"fint"},this.column3d={caption:e,yAxisName:"数量",theme:"fint"},this.pie3d={caption:e,showBorder:"0",use3DLighting:"0",enableSmartLabels:"0",startingAngle:"310",showLabels:"0",showPercentValues:"1",showLegend:"1",centerLabelBold:"1",showTooltip:"0",decimals:"0",useDataPlotColorForLabels:"1",theme:"fint"},this.line2d={caption:e,yAxisName:"数量",lineThickness:"2",paletteColors:"#0075c2",baseFontColor:"#333333",baseFont:"Helvetica Neue,Arial",captionFontSize:"14",subcaptionFontSize:"14",subcaptionFontBold:"0",showBorder:"0",bgColor:"#ffffff",showShadow:"0",canvasBgColor:"#ffffff",canvasBorderAlpha:"0",divlineAlpha:"100",divlineColor:"#999999",divlineThickness:"1",divLineIsDashed:"1",divLineDashLen:"1",divLineGapLen:"1",showXAxisLine:"1",xAxisLineThickness:"1",xAxisLineColor:"#999999",showAlternateHGridColor:"0"},this.data=n}function toggleEdit(){var e=$(this);e.next(".button.submit")}function startEdit(){var e=$(this),n=e.parent(".popup-content-custom");e.addClass("hidden"),n.find(".in-edit").removeClass("hidden"),$("td.display").addClass("hidden"),$("td.input").removeClass("hidden")}function cancelEdit(){var e=$(this).parent(".popup-content-custom"),n=e.find(".edit");e.find(".in-edit").addClass("hidden"),n.removeClass("hidden"),$("td.input").addClass("hidden"),$("td.display").removeClass("hidden")}function submitEdit(){var e=new XMLHttpRequest;e.withCredentials=!1,e.open("POST","/update"),e.onload=function(){var n=JSON.parse(e.responseText);hero.css({background:'url("http://'+window.location.host+n.location+'")',"background-size":"cover"}),$(".input-hero-img").val(n.location).change(),$(".temp-input").remove()};var n=$(this).next("form")[0],t=new FormData(n),o=$(this).data("id");t.append("id",o),e.send(t)}$(document).ready(function(){$("input[value='on']").click(),$(".ui.dropdown").dropdown(),$(".ui.accordion").accordion(),$("#status > div > a").click(function(){var e=$(this).data("type"),n="SELECT `"+e+"` as label, count(`"+e+"` = `"+e+"`) as value FROM gis1.authorizing group by `"+e+"`";createChart(n,e)}),$("a#fullScreen").click(function(){var e=$(this),n=$("body");n.hasClass("full-screen")?(n.removeClass("full-screen"),e.find(".fa-compress").hide(),e.find(".fa-expand").show(),e.attr("title","exit full screen")):(n.addClass("full-screen"),e.find(".fa-expand").hide(),e.find(".fa-compress").show(),e.attr("title","expand full screen"))})});
//# sourceMappingURL=../maps/app.babeled.min.js.map
