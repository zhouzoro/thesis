"use strict";require(["esri/Map","esri/views/MapView","esri/layers/MapImageLayer","esri/layers/FeatureLayer","esri/PopupTemplate","esri/widgets/Legend","esri/widgets/Compass","esri/widgets/Compass/CompassViewModel","esri/widgets/Home","esri/widgets/Home/HomeViewModel","esri/widgets/BasemapToggle","esri/widgets/Popup","esri/tasks/QueryTask","esri/tasks/support/Query","esri/widgets/Search","dojo/domReady!"],function(e,t,i,a,s,n,o,r,l,d,u,c,h,v,p){function g(e){console.log(e),$("#esri_widgets_Attribution_0 > div.esri-attribution__sources").html()}var w=new e({basemap:"oceans"}),m=new t({container:"map-container",map:w,zoom:9,center:[121,33]});m.then(function(){function e(){this.chart={caption:"确权数据分类",subCaption:"用海一级类",xAxisName:"用海一级类",yAxisName:"数量",theme:"fint"},this.data=[]}w.on("mouse-move",g);var t='<table class="ui celled table"><tbody><tr><td>FID</td><td>{FID}</td></tr><tr><td>配号来源</td><td>{配号来源}</td></tr><tr><td>用海一级类</td><td>{用海一级类}</td></tr><tr><td>用海二级类</td><td>{用海二级类}</td></tr><tr><td>用海方式</td><td>{用海方式}</td></tr></tbody></table>',i=new o({viewModel:new r({view:m})},"compass");i.startup();var c=new l({viewModel:new d({view:m})},"home");c.startup();var h=new u({view:m,nextBasemap:"hybrid"},"basemap");h.startup();var v=new n({view:m});v.startup(),m.ui.add(v,"bottom-right");var b=function(){var e=["功能区划","确权数据","确权数据--配号来源","确权数据--用海一级类","确权数据--用海二级类","确权数据--用海方式"],i=[];i[1]=new a({id:e[1],url:"http://localhost:6080/arcgis/rest/services/用海信息/MapServer/1",popupTemplate:new s({title:"title",content:t})}),w.add(i[1]);for(var n=2;6>n;n++){var o=new a({id:e[n],url:"http://localhost:6080/arcgis/rest/services/用海信息/MapServer/"+n,popupTemplate:new s({title:"title",content:t})});i[n]=o}var r=new p({view:m,allPlaceholder:"搜索",maxResults:1e3,sources:[{featureLayer:new a({url:"http://localhost:6080/arcgis/rest/services/用海信息/MapServer/3"}),searchFields:["用海一级类"],displayField:"用海一级类",exactMatch:!1,outFields:["FID","用海一级类","用海方式"],name:"用海一级类",placeholder:"搜索用海一级类"},{featureLayer:new a({url:"http://localhost:6080/arcgis/rest/services/用海信息/MapServer/4"}),searchFields:["FID","用海二级类"],suggestionTemplate:"{FID}, 用海二级类: {用海二级类}",exactMatch:!1,outFields:["FID","用海一级类","用海二级类"],name:"用海二级类"},{featureLayer:new a({url:"http://localhost:6080/arcgis/rest/services/用海信息/MapServer/5"}),searchFields:["FID","用海方式"],suggestionTemplate:"{FID}, 用海方式: {用海方式}",exactMatch:!1,outFields:["FID","用海一级类","用海方式"],name:"用海方式"}]});return r.startup(),m.ui.add(r,{position:"top-left",index:0}),m.whenLayerView(i[1]).then(function(e){e.watch("updating",function(t){t||e.queryFeatures().then(function(e){console.log(e[0])})})}),{inviewIndex:1,on:!0,switchTo:function(e){console.log("switching"),console.log(this.inviewIndex),console.log(e),e!==this.inviewIndex&&(w.remove(i[this.inviewIndex]),console.log("switching"),w.add(i[e]),this.inviewIndex=e)},show:function(){w.add(i[this.inviewIndex]),this.on=!0},hide:function(){w.remove(i[this.inviewIndex]),this.on=!1},toggle:function(){this.on?(w.remove(i[this.inviewIndex]),this.on=!1):(w.add(i[this.inviewIndex]),this.on=!0)}}}(),f=function(){var e=new a({id:"功能区划",url:"http://localhost:6080/arcgis/rest/services/zoning/MapServer/0"});return{on:!1,toggle:function(){this.on?w.remove(e):(w.add(e),b.on&&(b.hide,b.show)),this.on=!this.on}}}();$("input.toggle.toggle-zoning").change(function(){f.toggle()}),$("input.toggle.toggle-auth").change(function(){b.toggle()}),$("select[name=authLyr]").change(function(){console.log($(this).val()),b.switchTo($(this).val())});var y=new e;y.data=[{label:"Jan",value:"420000"},{label:"Feb",value:"810000"},{label:"Mar",value:"720000"},{label:"Apr",value:"550000"},{label:"May",value:"910000"},{label:"Jun",value:"510000"},{label:"Jul",value:"680000"},{label:"Aug",value:"620000"},{label:"Sep",value:"610000"},{label:"Oct",value:"490000"},{label:"Nov",value:"900000"},{label:"Dec",value:"730000"}]})});
//# sourceMappingURL=../maps/core.babeled.min.js.map
