"use strict";require(["esri/Map","esri/views/MapView","esri/layers/MapImageLayer","esri/layers/FeatureLayer","esri/PopupTemplate","esri/widgets/Legend","esri/widgets/Compass","esri/widgets/Compass/CompassViewModel","esri/widgets/Home","esri/widgets/Home/HomeViewModel","esri/widgets/BasemapToggle","esri/widgets/Popup","esri/tasks/QueryTask","esri/tasks/support/Query","dojo/domReady!"],function(e,t,o,i,r,n,s,a,d,l,c,p,u,w){var g=new e({basemap:"oceans"}),h=new t({container:"map-container",map:g,zoom:9,center:[121,33]});h.then(function(){var e='<table class="ui celled table"><tbody><tr><td>FID</td><td>{FID}</td></tr><tr><td>配号来源</td><td>{配号来源}</td></tr><tr><td>用海一级类</td><td>{用海一级类}</td></tr><tr><td>用海二级类</td><td>{用海二级类}</td></tr><tr><td>用海方式</td><td>{用海方式}</td></tr></tbody></table>',t=new s({viewModel:new a({view:h})},"compass");t.startup();var o=new d({viewModel:new l({view:h})},"home");o.startup();var p=new c({view:h,nextBasemap:"dark-gray"},"basemap");p.startup();var u=new n({view:h});u.startup(),h.ui.add(u,"bottom-right");var w=function(){var t=["功能区划","确权数据","确权数据--配号来源","确权数据--用海一级类","确权数据--用海二级类","确权数据--用海方式"],o=[];o[1]=new i({id:t[1],url:"http://localhost:6080/arcgis/rest/services/allofit/MapServer/1",popupTemplate:new r({title:"title",content:e})}),g.add(o[1]);for(var n=1,s=2;6>s;s++){var a=new i({id:t[s],url:"http://localhost:6080/arcgis/rest/services/allofit/MapServer/"+s,popupTemplate:new r({title:"title",content:e})});o.push(a)}return h.whenLayerView(o[1]).then(function(e){e.watch("updating",function(t){t||e.queryFeatures().then(function(e){console.log(e[0])})})}),{on:!0,switchTo:function(e){e!==n&&(g.remove(o[n]),g.add(o[e]))},show:function(){g.add(o[n]),this.on=!0},hide:function(){g.remove(o[n]),this.on=!1}}}(),v=function(){var e=new i({id:"功能区划",url:"http://localhost:6080/arcgis/rest/services/zoning/MapServer/0"});return{on:!1,toggle:function(){this.on?g.remove(e):(g.add(e),w.on&&(w.hide,w.show)),this.on=!this.on}}}();$("input.toggle.toggle-zoning").change(function(){v.toggle(),console.log(v.on)}),$("input.toggle.toggle-zoning").change(function(){"on"==$(this).val()?w.show:w.hide}),$("select[name=authLyr]").change(function(){w.switchTo($(this).val())})})});
//# sourceMappingURL=../maps/core.babeled.min.js.map
